(this.webpackJsonpmanicule=this.webpackJsonpmanicule||[]).push([[0],{120:function(e,t,n){var a={"./benlowe/tour/tour.json":[188,29],"./default/tour/tour.json":[189,31],"./test/tour/tour.json":[190,33]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=120,e.exports=r},121:function(e,t,n){var a={"./benlowe/structure.xml":[191,25],"./default/structure.xml":[192,26],"./test/structure.xml":[193,27]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=121,e.exports=r},122:function(e,t,n){var a={"./benlowe/pages.json":[194,28],"./default/pages.json":[195,30],"./test/pages.json":[196,32]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=122,e.exports=r},182:function(e,t,n){var a={"./benlowe/tour/121.html":[197,3],"./benlowe/tour/13.html":[198,4],"./benlowe/tour/131.html":[199,5],"./benlowe/tour/161.html":[200,6],"./benlowe/tour/170.html":[201,7],"./benlowe/tour/279.html":[202,8],"./benlowe/tour/309.html":[203,9],"./benlowe/tour/31.html":[204,10],"./benlowe/tour/32.html":[205,11],"./benlowe/tour/320.html":[206,12],"./benlowe/tour/33.html":[207,13],"./benlowe/tour/345.html":[208,14],"./benlowe/tour/59.html":[209,15],"./benlowe/tour/7.html":[210,16],"./benlowe/tour/73.html":[211,17],"./benlowe/tour/85.html":[212,18],"./benlowe/tour/92.html":[213,19],"./benlowe/tour/99.html":[214,20],"./default/tour/5.html":[215,21],"./default/tour/6.html":[216,22],"./test/tour/1.html":[217,23],"./test/tour/2.html":[218,24]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=182,e.exports=r},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),o=n(16),s=n(9),i=n(222),l=n(223),u=n(221),d=n.p+"static/media/manoflaw.8083c05d.jpg",j=n.p+"static/media/page.e5a2a501.png",b=n(67),h=n.n(b),m=n(23),f=n(230),g=n(220),x=n(10),p=(n(117),n(118),n(105)),O=n(229),v=n.p+"static/media/cc.24b61a95.svg",w=n.p+"static/media/by.b2193c0b.svg",y=n(35),C=n(27),k=n.n(C),N=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEFAULT_EDITION||"default",A=function(){var e=Object(y.a)(k.a.mark((function e(t){var a,r,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Map,e.next=3,n(120)("./".concat(t,"/tour/tour.json"));case 3:return r=e.sent,e.next=6,n(121)("./".concat(t,"/structure.xml"));case 6:return c=e.sent,e.next=9,n(122)("./".concat(t,"/pages.json"));case 9:return o=e.sent,a.set(t,{tour:r.default,structure:R(c),pages:E(o.default,r.default)}),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],E=function(e,t){var n=new Map,a=Array.from(new Set(Object(m.a)(e.map((function(e){return e.category})))));return a.length>T.length&&console.error("There are more categories (".concat(a.length,") than available category colors\n        (").concat(T.length,")). Either consolidate some categories or add more colors to\n        src/metadata.ts categoryPalette")),e.forEach((function(e){var r=0,c=0;r="string"===typeof e.pagenum?parseInt(e.pagenum,10):e.pagenum||0,c="string"===typeof e.index?parseInt(e.index,10):e.index;var o={color:T[a.indexOf(e.category)],index:c,signatures:e.signatures,pagenum:r,category:e.category,description:e.description,tourItem:S(t,c)};n.set(c,o)})),n},S=function(e,t){return e.filter((function(e){return e.page===t}))[0]},R=function(e){var t=e.book.quire.map((function(e){var t=e.leaf.map((function(e){var t=e.page.map((function(e){return{index:parseInt(e.$.index,10),pagenum:parseInt(e.$.pagenum,10),side:e.$.side}}));return{n:e.$.n,mode:e.$.mode,single:e.$.single,folio_number:e.$.folio_number,conjoin:e.$.conjoin,page:t}}));return{n:e.$.n,leaf:t}}));return{url:e.book.url,title:e.book.title,author:e.book.author,source:e.book.source,quire:t}},D=n(2),M=r.a.createContext({edition:"",pages:new Map,structure:{quire:[]},tour:[]}),P=function(e){var t=e.children,n=Object(s.g)().editionName,a=r.a.useState(n||N),c=Object(x.a)(a,1)[0],i=r.a.useState(),l=Object(x.a)(i,2),u=l[0],d=l[1],j=r.a.useState(),b=Object(x.a)(j,2),h=b[0],m=b[1],f=r.a.useState(),g=Object(x.a)(f,2),y=g[0],C=g[1];return r.a.useEffect((function(){A(c).then((function(e){var t=e.get(c);d(null===t||void 0===t?void 0:t.pages),m(null===t||void 0===t?void 0:t.structure),C(null===t||void 0===t?void 0:t.tour)}))}),[c]),u&&h&&y&&c?Object(D.jsx)(M.Provider,{value:{edition:c,pages:u,structure:h,tour:y},children:Object(D.jsxs)(p.a,{children:[Object(D.jsxs)(O.a,{inverse:!0,children:[Object(D.jsx)(O.a.Header,{children:Object(D.jsx)(O.a.Brand,{children:Object(D.jsx)("li",{children:Object(D.jsxs)(o.b,{to:"/",children:[Object(D.jsx)("img",{src:"data:image/png;base64,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",alt:"Manicule home page"})," Manicule"]})})})}),Object(D.jsxs)("ul",{className:"nav navbar-nav",children:[Object(D.jsx)("li",{children:Object(D.jsx)(o.b,{to:"/reader/".concat(c),children:"Browse"})}),Object(D.jsx)("li",{children:Object(D.jsx)(o.b,{to:"/structure/".concat(c),children:"Structure"})}),Object(D.jsx)("li",{children:Object(D.jsx)(o.b,{to:"/about",children:"About"})})]})]}),t,Object(D.jsxs)("footer",{children:["This work is licensed under a"," ",Object(D.jsx)("a",{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/",children:"Creative Commons Attribution 4.0 International License"})," ",Object(D.jsx)("img",{src:v,alt:"Creative Commons",style:{height:"2em"}}),Object(D.jsx)("img",{src:w,alt:"Attribution",style:{height:"2em"}})]})]})}):Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("h2",{children:["Loading ",c,"..."]})})},B=n(43),q=n.n(B),L=function(e){var t=e.page,n=r.a.useContext(M),a=n.pages,c=n.edition;return Object(D.jsx)("div",{className:q.a.blocks,children:Object(m.a)(a.values()).map((function(e){var n=e.tourItem;return Object(D.jsx)("span",{className:q.a.blockContainer,children:Object(D.jsx)(f.a,{placement:"top",overlay:Object(D.jsx)(g.a,{id:e.index.toString(),children:e.category}),children:Object(D.jsx)(o.b,{to:"/reader/".concat(c,"/").concat(e.index),children:Object(D.jsx)("span",{className:"".concat(e.index===t?q.a.currentPage:""," ").concat(n?"has-tour":""," ").concat(q.a.block),role:"button",style:{background:e.color,color:e.color},children:n?Object(D.jsx)(u.a,{className:q.a.glyphicon,glyph:"bookmark"}):"\xa0"})})})},e.index)}))})},z=function(){return Object(D.jsx)("div",{className:h.a.home,children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{sm:8,children:Object(D.jsxs)("div",{className:h.a.homeText,children:[Object(D.jsx)("h1",{children:"Canterbury Tales"}),Object(D.jsx)("h2",{children:"Rosenbach MS 1084/2 (ca 1440)"}),Object(D.jsx)("img",{src:d,className:h.a.imgCircle,width:"200",alt:"drawing of the Man of Law",style:{float:"right"}}),Object(D.jsxs)("p",{children:["This manuscript is an eleven-leaf fragment of Geoffrey Chaucer\u2019s"," ",Object(D.jsx)("i",{children:"The Canterbury Tales"}),", held at the Rosenbach in Philadelphia, Pennsylvania. It includes portions of the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#2550a1"},children:"Reeve\u2019s Tale"}),", the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#658539"},children:"Cook\u2019s Tale"}),", the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#963f39"},children:"Man of Law\u2019s Tale"}),", the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#365414"},children:"Squire\u2019s Tale"}),", the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#876331"},children:"Canon\u2019s Yeoman\u2019s Tale"}),", the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#b09e8d"},children:"Tale of Sir Thopas"}),", and the"," ",Object(D.jsx)("span",{style:{backgroundColor:"#cae1ed"},children:"Parson\u2019s Tale"}),". These leaves along with two leaves in the John Rylands Library (English MS. 63) are all that survive of the \u201cOxford Manuscript.\u201d"]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("img",{src:j,width:"200",alt:"drawing of the Man of Law",style:{float:"left"}}),"This website serves as a demo of the"," ",Object(D.jsx)("a",{href:"https://github.com/wtrettien/manicule",children:"Manicule web app"})," for exploring unique books and manuscripts. The ",Object(D.jsx)("b",{children:"Browse"})," view allows you to read the fragments in order, following the modern pagination on the leaves and bifolia. Marginal notes beside each facsimile page indicate which lines from ",Object(D.jsx)("i",{children:"The Canterbury Tales"})," are present; these notes can be changed by altering the ",Object(D.jsx)("b",{children:"description"})," attribute in"," ",Object(D.jsx)("b",{children:"pages.json"}),". Color-coded categories indicate which tale is present; these categories can also be changed in ",Object(D.jsx)("b",{children:"pages.json"})," and the colors updated in ",Object(D.jsx)("b",{children:"metadata.ts"}),". (They have been added by hand to the paragraph above, to demonstrate how to add styles to this text.) The ",Object(D.jsx)("b",{children:"Structure"})," view shows where these fragments are conjoined, or not. This data is stored in ",Object(D.jsx)("b",{children:"structure.xml"}),", which visualizes the format of a book using the"," ",Object(D.jsx)("a",{href:"https://github.com/leoba/VisColl",children:"VisColl"})," data model."]}),Object(D.jsxs)("p",{children:["Images of and information about this manuscript (MS 1084/2) were accessed via"," ",Object(D.jsx)("a",{href:"http://openn.library.upenn.edu/Data/0028/html/ms_1084_002.html",children:"OPenn"}),", a repository of CC-licensed high-resolution images of cultural heritage materials along with machine-readable descriptive and technical metadata."]}),Object(D.jsxs)("p",{children:["For instructions on how to install and play with this demo, please see the README of the source code:"," ",Object(D.jsx)("a",{href:"https://github.com/wtrettien/manicule",children:"https://github.com/wtrettien/manicule"})]}),Object(D.jsx)("p",{className:"clear"})]})}),Object(D.jsxs)(l.a,{sm:4,children:[Object(D.jsxs)("ol",{children:[Object(D.jsx)("li",{children:Object(D.jsxs)(o.b,{to:"/reader/default/5",children:[Object(D.jsx)(u.a,{glyph:"bookmark"})," Tour this edition"]})}),Object(D.jsx)("li",{children:Object(D.jsxs)(o.b,{to:"/structure",children:[Object(D.jsx)(u.a,{glyph:"book"})," Explore the book\u2018s physical structure"]})})]}),Object(D.jsx)(L,{page:0})]})]})})},V=n(41),I=n(37),K=n.n(I),Q=n(68),W=n.n(Q),J=n(224),U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="0000".concat(t).substr(-4,4),r=n?"".concat(".","/images/book/").concat(e,"/thumbnails/").concat(a,".jpg"):"".concat(".","/images/book/").concat(e,"/").concat(a,".jpg");return r},F=function(e){var t=e.edition,n=e.num,a=e.setZoom,r=U(t,n);return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(J.a,{src:r,alt:"Manuscript image ".concat(n," for edition ").concat(t),responsive:!0,onClick:function(){return a(n)}})})},G=function(e){var t=e.page,n=e.leaf,a=e.setZoom,c=e.setTour,o=r.a.useContext(M).edition,s=t.tourItem;s&&(s.leaf=n);var d=Object(D.jsx)(F,{num:t.index,edition:o,setZoom:a});return Object(D.jsx)("div",{className:W.a.metadata,children:Object(D.jsxs)(i.a,{children:["recto"===n&&Object(D.jsxs)(l.a,{sm:8,children:[d,Object(D.jsx)("label",{className:"metadata-label category-label",style:{background:t.color},children:t.category})]}),Object(D.jsxs)(l.a,{sm:4,children:[s?Object(D.jsx)("label",{className:"metadata-label tour-label",onClick:function(){return c(s)},style:{color:t.color},children:Object(D.jsx)(u.a,{glyph:"bookmark",className:W.a.tourOpener})}):Object(D.jsx)("span",{children:"\xa0"}),Object(D.jsx)("label",{className:"metadata-label description-label ".concat(W.a.description),children:t.description}),Object(D.jsx)("label",{className:"metadata-label signatures-label",children:t.signatures})]}),"verso"===n&&Object(D.jsxs)(l.a,{sm:8,children:[d,Object(D.jsx)("label",{className:"metadata-label category-label",style:{background:t.color},children:t.category})]})]})})},Z=n(111),_=n(228),X=n(32),Y=n.n(X),H=function(e){var t=e.item,a=e.side,c=e.setTour,s=r.a.useContext(M),d=s.edition,j=s.tour,b=s.pages,h=j.indexOf(t),m=h>0,f=h<j.length-1,g=function(){var e;return null===(e=b.get(j[h+1].page))||void 0===e?void 0:e.index},p=function(){var e;return null===(e=b.get(j[h-1].page))||void 0===e?void 0:e.index},O=r.a.useState(null),v=Object(x.a)(O,2),w=v[0],y=v[1];r.a.useEffect((function(){n(182)("./".concat(d,"/tour/").concat(t.page,".html")).then((function(e){y(e.default)})).catch((function(e){return console.error(e)}))}),[d,t.page]);var C=m?Object(D.jsxs)(o.b,{to:"/reader/".concat(d,"/").concat(p(),"?tour=").concat(p()),className:"".concat(Y.a.left),children:[Object(D.jsx)(u.a,{glyph:"arrow-left"})," Previous Tour Stop"]}):null,k=f?Object(D.jsxs)(o.b,{to:"/reader/".concat(d,"/").concat(g(),"?tour=").concat(g()),className:"".concat(Y.a.right),children:["Next Tour Stop ",Object(D.jsx)(u.a,{glyph:"arrow-right"})]}):null,N=Object(D.jsx)("div",{className:Y.a.tourExit,children:Object(D.jsx)(Z.a,{className:"close-modal",onClick:function(){return c(void 0)},children:Object(D.jsx)(u.a,{glyph:"remove"})})}),A=Object(D.jsx)("div",{className:Y.a.tourNav,children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{sm:6,children:C}),Object(D.jsx)(l.a,{sm:6,children:k})]})});return w?Object(D.jsxs)(_.a,{bsClass:Y.a.tourPanel,className:"recto"===a?Y.a.left:Y.a.right,children:[N,Object(D.jsx)("div",{className:Y.a.text,dangerouslySetInnerHTML:{__html:w}}),A]}):null},$=n(225),ee=n(69),te=n.n(ee),ne=function(e){var t=e.url,n=e.setZoom;return Object(D.jsxs)(_.a,{className:te.a.pageZoom,children:[Object(D.jsx)($.a,{className:te.a.well,children:Object(D.jsxs)("label",{children:["Scroll around this pop-up to examine the page in detail.",Object(D.jsx)(Z.a,{onClick:function(){return n(void 0)},children:"Close"})]})}),Object(D.jsx)("div",{className:te.a.imgContainer,children:Object(D.jsx)(J.a,{src:t,alt:"Manuscript page"})})]})},ae=function(e){var t=e.page,n=r.a.useContext(M),a=n.pages,c=n.edition,s=r.a.useState(void 0),d=Object(x.a)(s,2),j=d[0],b=d[1],h=r.a.useState(void 0),m=Object(x.a)(h,2),f=m[0],g=m[1],p=Math.max(t+2,1),O=Math.min(t-2,a.size),v=a.get(t),w=(null===v||void 0===v?void 0:v.index)||0,y=w+1<a.size?a.get(w+1):null,C=t<a.size-1,k=t>1,N=Object(o.c)(),A=Object(x.a)(N,1)[0];r.a.useEffect((function(){var e,t=A.get("tour");t?b(null===(e=a.get(parseInt(t,10)))||void 0===e?void 0:e.tourItem):b(void 0)}),[a,A]);var T=function(e,t){return Object(D.jsx)(G,{page:e,leaf:t,setZoom:g,setTour:b})},E=function(e,t){return"prev"===t&&k?Object(D.jsxs)(o.b,{to:"/reader/".concat(c,"/").concat(e),className:"".concat(K.a.bookNav," ").concat(K.a.left),children:[Object(D.jsx)(u.a,{glyph:"arrow-left"})," Previous Spread"]}):"next"===t&&C?Object(D.jsxs)(o.b,{to:"/reader/".concat(c,"/").concat(e),className:"".concat(K.a.bookNav," ").concat(K.a.right),children:["Next Spread ",Object(D.jsx)(u.a,{glyph:"arrow-right"})]}):null};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{sm:6,children:E(O,"prev")}),Object(D.jsx)(l.a,{sm:6,children:E(p,"next")})]}),Object(D.jsxs)(i.a,{children:[Object(D.jsx)(l.a,{sm:6,className:K.a.verso,children:v&&T(v,"verso")}),Object(D.jsx)(l.a,{sm:6,className:K.a.recto,children:y&&T(y,"recto")}),j&&Object(D.jsx)(H,{side:j.leaf,item:j,setTour:b}),Object(D.jsx)(V.Transition,{items:f,from:{scale:0},enter:{scale:1},leave:{scale:0},delay:0,onStart:function(){var e=document.getElementById("nav-strip");null===e||void 0===e||e.classList.add("inactive")},onRest:function(){var e=document.getElementById("nav-strip");null===e||void 0===e||e.classList.remove("inactive")},config:{mass:1,tension:210,friction:20,clamp:!0},children:function(e,t){return t&&Object(D.jsx)(V.animated.div,{style:e,children:Object(D.jsx)(ne,{url:U(c,f,!1),setZoom:g})})}})]})]})},re=n(226),ce=n(38),oe=n.n(ce),se=n(44),ie=n.n(se),le=function(e){var t=e.page,n=e.tref,a=t.index,c=t.color,s=t.signatures,i=t.category,l=r.a.useContext(M).edition,d=a%2===0?"recto":"verso",j=U(l,a,!0),b="".concat(ie.a.navThumbnail," thumbnail-").concat(a," ").concat(d," ").concat(a===t.index||a===t.index+1?ie.a.isCurrent:""),h=t.tourItem?Object(D.jsx)("label",{className:"metadata-label tour-label has-tour ".concat(ie.a.hasTour),children:Object(D.jsx)("span",{style:{color:"".concat(c)},children:Object(D.jsx)(u.a,{glyph:"bookmark",className:ie.a.bookmark})})}):null;return Object(D.jsx)("div",{className:b,style:{borderBottom:"10px solid ".concat(c)},ref:n,children:Object(D.jsx)(f.a,{placement:"top",overlay:Object(D.jsxs)(g.a,{id:a,children:[s," - ",i]}),children:Object(D.jsxs)(o.b,{to:"/reader/".concat(l,"/").concat(a),children:[Object(D.jsx)(Z.a,{id:"page-".concat(a),bsClass:ie.a.thumbnailImage,style:{backgroundImage:"url(".concat(j,")")}}),h]})},t.index)})},ue=function(e){var t=e.dir,n=e.onTriggerScroll;return Object(D.jsx)("div",{className:"".concat(oe.a.navStripButton," ").concat("next"===t?oe.a.next:oe.a.prev),children:Object(D.jsx)("div",{role:"link",tabIndex:0,className:oe.a.button,onMouseDown:function(){return n(t)},children:"prev"===t?"\u226a":"\u226b"})})},de=function(e){var t=e.pageData,n=e.page,a=e.groupRef,c=e.api,o=r.a.useState(Array.from(t.keys()).map((function(){return r.a.createRef()}))),s=Object(x.a)(o,1)[0];return r.a.useEffect((function(){var e=-1;t.forEach((function(t,a){t.index===n&&(e=a)}));var r=s[e];if(null!==r&&void 0!==r&&r.current&&null!==a&&void 0!==a&&a.current){var o=r.current.getBoundingClientRect().x,i=window.innerWidth/2,l=a.current.scrollLeft;c.start({reset:!0,from:{y:a.current.scrollLeft},to:{y:l-(i-o)},onChange:function(e){a.current&&(a.current.scrollLeft=e.value.y)}})}}),[c,a,n,t,s]),Object(D.jsx)(V.animated.div,{className:oe.a.navGroup,ref:a,children:Object(D.jsx)(re.a,{children:Object(m.a)(t.values()).map((function(e,t){return Object(D.jsx)(le,{page:e,tref:s[t]},e.index)}))})})},je=function(e){var t=e.page,n=e.pageData,a=r.a.useRef(null),c=Object(V.useSpring)((function(){return{from:{y:0},to:{y:0}}})),o=Object(x.a)(c,2)[1],s=function(e){if(a.current){var t=window.innerWidth/2,n=a.current.scrollLeft;o.start({reset:!0,from:{y:a.current.scrollLeft},to:{y:"prev"===e?n-t:n+t},onChange:function(e){a.current&&(a.current.scrollLeft=e.value.y)}})}};return Object(D.jsxs)("div",{id:"nav-strip",className:oe.a.navStripContainer,children:[t>1&&Object(D.jsx)(ue,{dir:"prev",onTriggerScroll:s}),Object(D.jsx)(de,{pageData:n,page:t,groupRef:a,api:o}),t<Array.from(n.keys()).length&&Object(D.jsx)(ue,{dir:"next",onTriggerScroll:s})]})},be=function(){var e=Object(s.g)().pageString,t=parseInt(e,10)||1,n=r.a.useContext(M);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ae,{page:t}),Object(D.jsx)(je,{page:t,pageData:n.pages}),Object(D.jsx)(L,{page:t})]})},he=n(14),me=n(13),fe=n(19),ge=n(20),xe=n(45),pe=n.n(xe),Oe=function(e){Object(fe.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(he.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(D.jsx)("div",{className:pe.a.about,children:Object(D.jsx)(i.a,{children:Object(D.jsx)(l.a,{children:Object(D.jsxs)("div",{className:"about",children:[Object(D.jsx)("h1",{children:"About Manicule"}),Object(D.jsx)("p",{children:"Manicule is a standalone React web application for presenting unique printed books and manuscripts in digital facsimile. It allows editors to:"}),Object(D.jsxs)("h3",{children:[Object(D.jsx)("span",{className:pe.a.accent,children:"\u261e"})," build guided tours through a book\u2019s distinguishing features;"]}),Object(D.jsx)("img",{src:"images/tour.png",alt:"Screenshot of the Tour feature of the application, showing multiple windows over the source text"}),Object(D.jsxs)("h3",{children:[Object(D.jsx)("span",{className:pe.a.accent,children:"\u261e"})," annotate the edges of interesting pages with extra information;"]}),Object(D.jsx)("img",{src:"images/marginalia.png",alt:"Screenshot showing annotation added in the marginal area of the screen"}),Object(D.jsxs)("h3",{children:[Object(D.jsx)("span",{className:pe.a.accent,children:"\u261e"})," categorize and color-code each page in the facsimile, giving a bird\u2019s-eye view of a book\u2019s main elements;"]}),Object(D.jsx)("img",{src:"images/map.png",alt:"Narrow screenshot of the multi-colored 'map' of categorized elements"}),Object(D.jsxs)("h3",{className:"indent",children:[Object(D.jsx)("span",{className:pe.a.accent,children:"\u261e"})," and visualize the book\u2019s structure."]}),Object(D.jsx)("img",{src:"images/structure.png",alt:"Screenshot of the structure visualization, showing arcing lines that illustrate the way the book was bound"}),Object(D.jsx)("h1",{children:"Credits"}),Object(D.jsxs)("p",{children:["Manicule was built and designed by"," ",Object(D.jsx)("a",{href:"https://lizadaly.com/",children:"Liza Daly"})," and"," ",Object(D.jsx)("a",{href:"http://whitneyannetrettien.com/",children:"Whitney Trettien"})," with support from the"," ",Object(D.jsx)("a",{href:"https://pricelab.sas.upenn.edu/",children:"Price Lab for Digital Humanities"})," ","at the University of Pennsylvania."]}),Object(D.jsx)("h1",{children:"Download"}),Object(D.jsxs)("p",{children:["Version 1.0 of Manicule was released in October 2018. The source code is available for reuse under a"," ",Object(D.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/",children:"Creative Commons Attribution 4.0 International License"}),". Download it here:"," ",Object(D.jsx)("a",{href:"https://github.com/wtrettien/manicule",children:"https://github.com/wtrettien/manicule"}),". Instructions for installing, building, and deploying the app are available in README.md and at the Github repository."]}),Object(D.jsxs)("p",{children:["Let us know how you use Manicule by emailing Whitney Trettien:"," ",Object(D.jsx)("b",{children:"trettien [at] english [dot] upenn [dot] edu"}),"."]})]})})})})}}]),n}(r.a.Component),ve=n(227),we=n(36),ye=n.n(we),Ce="http://www.w3.org/2000/svg",ke=function(e){var t=e.quire,n=e.side,a=r.a.useContext(M).pages,c="recto"===n?0:1,o=r.a.useRef(null),s=r.a.useState((function(){return t.leaf.map((function(e){return r.a.createRef()}))})),i=Object(x.a)(s,1)[0],l=function(){if(o.current){var e=o.current,n=Math.floor(1e4*Math.random());e.innerHTML='<defs>\n            <marker id="id-'.concat(n,'" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">\n              <polygon points="0 0, 10 3.5, 0 7" />\n            </marker>\n        </defs>'),t.leaf.forEach((function(a,r){var c=a.conjoin&&a.conjoin>a.n?a.conjoin:null,o=t.leaf.filter((function(e){return e.n===c}))[0];if(c){var s=i[r],l=i[t.leaf.indexOf(o)];if(null!==s&&void 0!==s&&s.current&&null!==l&&void 0!==l&&l.current){var u=s.current.getBoundingClientRect(),d=l.current.getBoundingClientRect(),j=u.x+u.width/2,b=d.x+d.width/2,h=(u.x+d.x+d.width)/2,m=d.x-1.2*u.x,f=Math.min(Math.max(20,300-m),150),g=Math.max(h-4*h,j),x=Math.min(b,h+4*h),p=document.createElementNS(Ce,"path"),O="M ".concat(j," ").concat(210," C ").concat(g," ").concat(f,", ").concat(x," ").concat(f,", ").concat(b," ").concat(210);p.setAttributeNS(null,"d",O),e.appendChild(p)}}else if("true"===a.single){var v=i[r];if(v.current){var w=document.createElementNS(Ce,"line"),y=v.current.getBoundingClientRect(),C=y.x+y.width/2;w.setAttribute("x1","".concat(C)),w.setAttribute("x2","".concat(C)),w.setAttribute("y1","".concat(150)),w.setAttribute("y2","".concat(190)),w.setAttribute("marker-end","url(#id-".concat(n,")")),e.appendChild(w)}}}))}},u=Object(ve.a)(l,100);return r.a.useLayoutEffect((function(){return l(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}})),Object(D.jsxs)("div",{className:ye.a.quire,children:[Object(D.jsx)("svg",{xmlns:Ce,ref:o}),t.leaf.map((function(e,t){var n=a.get(e.page[c].index),r=e.folio_number,o=i[t];return n?Object(D.jsx)("div",{className:ye.a.leaf,ref:o,children:Object(D.jsx)(le,{page:n})},r):null}))]})},Ne=function(){var e=r.a.useContext(M),t=e.structure,n=e.pages,a=t.quire,c=r.a.useState("recto"),o=Object(x.a)(c,2),s=o[0],i=o[1],l=function(e){var t=e.leaf.length,a=0;return e.leaf.forEach((function(e){e.page.forEach((function(e){var t;null!==(t=n.get(e.index))&&void 0!==t&&t.signatures.includes("insertion")&&(a+=1)}))})),a/=2,Object(D.jsxs)("label",{children:["Contains ",t," folio",t>=2?"s":"",a>0?" and ".concat(a," insertion").concat(a>1?"s":""):""]})};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:ye.a.structureNav,children:Object(D.jsxs)(Z.a,{onClick:function(){i("recto"===s?"verso":"recto")},children:["Showing ",s," side"]})}),Object(D.jsx)(p.a,{className:ye.a.structure,children:a.map((function(e,t){return Object(D.jsxs)("div",{id:"row-".concat(t),children:[Object(D.jsx)("div",{children:Object(D.jsx)(ke,{quire:e,side:s})}),Object(D.jsxs)("div",{className:ye.a.quireLabel,children:[Object(D.jsxs)("h3",{children:["Quire: ",e.n]}),l(e)]})]},t)}))})]})};var Ae=function(){return Object(D.jsx)(o.a,{children:Object(D.jsxs)(s.c,{children:[Object(D.jsx)(s.a,{path:"",element:Object(D.jsx)(P,{children:Object(D.jsx)(z,{})})}),Object(D.jsx)(s.a,{path:"reader/:editionName/:pageString",element:Object(D.jsx)(P,{children:Object(D.jsx)(be,{})})}),Object(D.jsx)(s.a,{path:"reader/:editionName",element:Object(D.jsx)(P,{children:Object(D.jsx)(be,{})})}),Object(D.jsx)(s.a,{path:"reader",element:Object(D.jsx)(P,{children:Object(D.jsx)(be,{})})}),Object(D.jsx)(s.a,{path:"structure",element:Object(D.jsx)(P,{children:Object(D.jsx)(Ne,{})})}),Object(D.jsx)(s.a,{path:"structure/:editionName",element:Object(D.jsx)(P,{children:Object(D.jsx)(Ne,{})})}),Object(D.jsx)(s.a,{path:"about",element:Object(D.jsx)(P,{children:Object(D.jsx)(Oe,{})})})]})})},Te=(n(186),document.getElementById("root"));null!==Te&&void 0!==Te&&Te.hasChildNodes()?Object(c.hydrate)(Object(D.jsx)(Ae,{}),Te):Object(c.render)(Object(D.jsx)(Ae,{}),Te)},32:function(e,t,n){e.exports={tourPanel:"Tour_tourPanel__2bAvc",right:"Tour_right__3mj_X",left:"Tour_left__3pP0C",text:"Tour_text__2ctr9",tourExit:"Tour_tourExit__KByyf",tourNav:"Tour_tourNav__29EO5",row:"Tour_row__R9739"}},36:function(e,t,n){e.exports={structure:"Structure_structure__1ZIoz",structureNav:"Structure_structureNav__2P-nB",quireLabel:"Structure_quireLabel__3sqOG",quire:"Structure_quire__3mOtb",leaf:"Structure_leaf__PgE9N"}},37:function(e,t,n){e.exports={bookNav:"Reader_bookNav__2xY7y",left:"Reader_left__2pvNo",right:"Reader_right__2OJ6M",verso:"Reader_verso__1lKES",recto:"Reader_recto__24Gg4"}},38:function(e,t,n){e.exports={navGroup:"Nav_navGroup__3B1Cy",navStripContainer:"Nav_navStripContainer__3D-F0",navStripButton:"Nav_navStripButton__UdrJa",button:"Nav_button__2Eg1h",next:"Nav_next__3grco",prev:"Nav_prev__3yWxV"}},43:function(e,t,n){e.exports={blocks:"Map_blocks__7RRK1",block:"Map_block__30Ogi",blockContainer:"Map_blockContainer__3svTY",currentPage:"Map_currentPage__14OFD",glyphicon:"Map_glyphicon__1ELsi"}},44:function(e,t,n){e.exports={navThumbnail:"Thumbnail_navThumbnail__10JDl",recto:"Thumbnail_recto__plIcF",isCurrent:"Thumbnail_isCurrent__3zFVu",thumbnailImage:"Thumbnail_thumbnailImage__2Fsgw",hasTour:"Thumbnail_hasTour__2w5iF",bookmark:"Thumbnail_bookmark__8NhWw"}},45:function(e,t,n){e.exports={about:"About_about__2P5xE",accent:"About_accent__3lelK"}},67:function(e,t,n){e.exports={home:"Home_home__2ifuu",imgCircle:"Home_imgCircle__3mt0u",homeText:"Home_homeText__A_eGk"}},68:function(e,t,n){e.exports={metadata:"Page_metadata__21bf7",tourOpener:"Page_tourOpener__Gt0TI",description:"Page_description__UR5a7"}},69:function(e,t,n){e.exports={pageZoom:"PageZoom_pageZoom__1ytTL",well:"PageZoom_well__1x6ik",imgContainer:"PageZoom_imgContainer__2BqaI"}}},[[187,1,2]]]);
//# sourceMappingURL=main.e9e91fb3.chunk.js.map